<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Getting Windows ready – Don’t turn off your computer</title>
    <style>
        :root {
            --size: 120px;
            --dot-size: 12px;
            --radius: 36px;
            --duration: 1.6s;
            --gap: 0.12s;
            --bg: #0078d7;
        }
        html, body {
            height: 100%;
            margin: 0;
            background: var(--bg);
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow: hidden;
            text-align: center;
            color: white;
            font-family: "Segoe UI", Arial, sans-serif;
        }
        .window-10-main-section {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -40%);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: opacity 0.6s ease;
        }
        .windows-10-bottom-text {
            position: absolute;
            bottom: max(15px, 10%);
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 14px;
            opacity: 0.9;
            transition: opacity 0.6s ease;
        }
        .restart-text {
            font-size: 42px;
            font-weight: 300;
            opacity: 0;
            transition: opacity 0.8s ease;
        }
        .dot:nth-child(1) { --angle: 0deg; animation: winFade var(--duration) infinite 0s; }
        .dot:nth-child(2) { --angle: 45deg; animation: winFade var(--duration) infinite calc(var(--gap)*1); }
        .dot:nth-child(3) { --angle: 90deg; animation: winFade var(--duration) infinite calc(var(--gap)*2); }
        .dot:nth-child(4) { --angle: 135deg; animation: winFade var(--duration) infinite calc(var(--gap)*3); }
        .dot:nth-child(5) { --angle: 180deg; animation: winFade var(--duration) infinite calc(var(--gap)*4); }
        .dot:nth-child(6) { --angle: 225deg; animation: winFade var(--duration) infinite calc(var(--gap)*5); }
        .dot:nth-child(7) { --angle: 270deg; animation: winFade var(--duration) infinite calc(var(--gap)*6); }
        .dot:nth-child(8) { --angle: 315deg; animation: winFade var(--duration) infinite calc(var(--gap)*7); }
        @keyframes winFade {
            0% { opacity: 0; transform: rotate(var(--angle)) translate(var(--radius)) translate(-50%,-50%) scale(0.6); }
            25% { opacity: 1; transform: rotate(var(--angle)) translate(var(--radius)) translate(-50%,-50%) scale(1); }
            75% { opacity: 0.9; transform: rotate(var(--angle)) translate(var(--radius)) translate(-50%,-50%) scale(0.95); }
            100% { opacity: 0; transform: rotate(var(--angle)) translate(var(--radius)) translate(-50%,-50%) scale(0.6); }
        }
        @media (max-width: 420px) {
            :root { --size: 90px; --dot-size: 10px; --radius: 28px; --duration: 1.4s; --gap: 0.11s; }
            .restart-text { font-size: 32px; }
        }
        *, *::after, *::before { cursor: none !important; }
        #pixelCursor {
            position: fixed;
            width: 1px;
            height: 1px;
            background: red;
            border-radius: 50%;
            pointer-events: none;
            z-index: 999999;
            left: -10px;
            top: -10px;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.15s ease;
            box-shadow: 0 0 4px 1px red;
        }
        /* Loader clásico de Windows */
        :root { --loader-size: 40px; }
        @media screen and (max-width:1024px) { :root { --loader-size: 30px; } }
        .loader {
            position: relative;
            width: var(--loader-size);
            height: var(--loader-size);
            border-radius: 50%;
            animation: rotate 4s linear infinite;
            margin-bottom: calc(var(--loader-size)/2);
        }
        .loader span::after {
            position: absolute;
            width: calc(var(--loader-size)/8);
            height: calc(var(--loader-size)/8);
            border-radius: 50%;
            background-color: #fff;
            content: "";
            display: block;
            transform-origin: calc(var(--loader-size)/2) calc(var(--loader-size)/2);
            animation-duration: 4s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
        }
        @keyframes rotate { to { transform: rotate(360deg); } }
        .pip-0::after { transform: rotate(0deg); animation: rotate-0 4s infinite; animation-delay: .9s; }
        .pip-1::after { transform: rotate(20deg); animation: rotate-1 4s infinite; animation-delay: 775ms; }
        .pip-2::after { transform: rotate(40deg); animation: rotate-2 4s infinite; animation-delay: 650ms; }
        .pip-3::after { transform: rotate(60deg); animation: rotate-3 4s infinite; animation-delay: 525ms; }
        .pip-4::after { transform: rotate(80deg); animation: rotate-4 4s infinite; animation-delay: .4s; }
        .pip-5::after { transform: rotate(100deg); animation: rotate-5 4s infinite; animation-delay: 275ms; }
        @keyframes rotate-0 { 0%,20%{transform:rotate(0)} 40%,60%{transform:rotate(180deg)} 80%,100%{transform:rotate(360deg)} }
        @keyframes rotate-1 { 0%,20%{transform:rotate(20deg)} 40%,60%{transform:rotate(200deg)} 80%,100%{transform:rotate(380deg)} }
        @keyframes rotate-2 { 0%,20%{transform:rotate(40deg)} 40%,60%{transform:rotate(220deg)} 80%,100%{transform:rotate(400deg)} }
        @keyframes rotate-3 { 0%,20%{transform:rotate(60deg)} 40%,60%{transform:rotate(240deg)} 80%,100%{transform:rotate(420deg)} }
        @keyframes rotate-4 { 0%,20%{transform:rotate(80deg)} 40%,60%{transform:rotate(260deg)} 80%,100%{transform:rotate(440deg)} }
        @keyframes rotate-5 { 0%,20%{transform:rotate(100deg)} 40%,60%{transform:rotate(280deg)} 80%,100%{transform:rotate(460deg)} }
    </style>
</head>
<body>
    <div id="pixelCursor"></div>

    <div class="full-screen windows-10">
        <div class="window-10-main-section" id="mainSection">
            <div class="loader" id="loader">
                <span class="pip-0"></span>
                <span class="pip-1"></span>
                <span class="pip-2"></span>
                <span class="pip-3"></span>
                <span class="pip-4"></span>
                <span class="pip-5"></span>
            </div>
            <div id="updateText">
                <span>Working on updates </span><span id="update-percentage">0</span>% complete.<br>
                <span>Don't turn off your PC. This will take a while.</span>
            </div>
            <div class="restart-text" id="restartText">Restarting</div>
        </div>
        <span class="windows-10-bottom-text" id="bottomText">
            Your PC may restart several times
        </span>
    </div>

    <script>
        const pixel = document.getElementById('pixelCursor');
        document.addEventListener('mousemove', e => {
            pixel.style.left = e.clientX + 'px';
            pixel.style.top = e.clientY + 'px';
            pixel.style.opacity = '1';
        });
        document.addEventListener('touchmove', e => {
            if (e.touches.length > 0) {
                const touch = e.touches[0];
                pixel.style.left = touch.clientX + 'px';
                pixel.style.top = touch.clientY + 'px';
                pixel.style.opacity = '1';
            }
        });
        document.addEventListener('mouseout', () => pixel.style.opacity = '0');
        document.addEventListener('mouseenter', () => pixel.style.opacity = '1');

        // Pantalla completa al hacer clic
        document.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen?.() ||
                document.documentElement.webkitRequestFullscreen?.() ||
                document.documentElement.msRequestFullscreen?.();
            }
        });

        // === LÓGICA DEL PORCENTAJE + REINICIO INFINITO ===
        const percentageEl = document.getElementById('update-percentage');
        const updateText = document.getElementById('updateText');
        const restartText = document.getElementById('restartText');
        const bottomText = document.getElementById('bottomText');
        const mainSection = document.getElementById('mainSection');

        function startUpdateCycle() {
            let percent = 0;
            percentageEl.textContent = percent;

            const interval = setInterval(() => {
                percent += 1;
                if (percent > 75) {
                    clearInterval(interval);

                    // Ocultar texto de actualización
                    updateText.style.opacity = '0';
                    bottomText.style.opacity = '0';

                    // Mostrar "Restarting" después de un pequeño delay
                    setTimeout(() => {
                        updateText.style.display = 'none';
                        bottomText.style.display = 'none';
                        restartText.style.opacity = '1';
                        restartText.style.display = 'block';
                    }, 800);

                    // Después de 8 segundos → reiniciar ciclo
                    setTimeout(() => {
                        restartText.style.opacity = '0';
                        setTimeout(() => {
                            restartText.style.display = 'none';
                            updateText.style.display = 'block';
                            bottomText.style.display = 'block';
                            updateText.style.opacity = '1';
                            bottomText.style.opacity = '1';
                            startUpdateCycle(); // ¡Vuelve a empezar!
                        }, 800);
                    }, 8000);
                } else {
                    percentageEl.textContent = percent;
                }
            }, 180); // Velocidad realista (75% ≈ 13.5 segundos)
        }

        // Iniciar el primer ciclo al cargar
        startUpdateCycle();
    </script>
</body>
</html>
